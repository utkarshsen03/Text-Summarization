(()=>{"use strict";var e={3456:(e,t,a)=>{var n=a(3751),r=a(641);const i={id:"app"};function o(e,t,a,n,o,s){const l=(0,r.g2)("PdfViewer"),d=(0,r.g2)("WithStreamlitConnection");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(d,null,{default:(0,r.k6)((({args:e})=>[(0,r.bF)(l,{args:e},null,8,["args"])])),_:1})])}var s=a(33);const l={key:0},d={key:0,id:"pdfAnnotations"},c=["id"],p={key:1},g=["src","width","height"],u={key:2},h=["src","width","height"],v={key:3};function w(e,t,a,n,i,o){return(0,r.uX)(),(0,r.CE)("div",{id:"pdfContainer",style:(0,s.Tr)(n.pdfContainerStyle)},["unwrap"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",{id:"pdfViewer",style:(0,s.Tr)(n.pdfViewerStyle)},[a.args.annotations?((0,r.uX)(),(0,r.CE)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredAnnotations,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,style:(0,s.Tr)(n.getPageStyle)},[(0,r.Lk)("div",{style:(0,s.Tr)(n.getAnnotationStyle(e,t)),id:`annotation-${t}`},null,12,c)],4)))),128))])):(0,r.Q3)("",!0)],4)])):"legacy_embed"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,g)])):"legacy_iframe"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,h)])):((0,r.uX)(),(0,r.CE)("div",v," Error rendering option. "))],4)}a(4114),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var f=a(953),m=(a(951),a(9936)),y=a(7445);const _="pdfjs-dist/cmaps/",E=!0,b=!0,C={props:["args"],setup(e){const t=(0,f.KR)(0),a=(0,f.KR)(0),n=(0,f.KR)([]),i=(0,f.KR)([]),o=(0,f.KR)([]),s=(0,f.KR)([]),l=0===e.args.pages_to_render.length,d=(0,r.EW)((()=>l?e.args.annotations:e.args.annotations.filter((t=>e.args.pages_to_render.includes(Number(t.page)))))),c=!0===e.args.render_text,p=(0,r.EW)((()=>({width:e.args.width?`${e.args.width}px`:`${a.value}px`,height:e.args.height?`${e.args.height}px`:"auto",overflow:"auto"}))),g={position:"relative"},u={position:"relative"},h=t=>{let a=0;if(l)for(let r=0;r<t-1;r++)a+=i.value[r]*n.value[r]+e.args.pages_vertical_spacing;else for(let r=0;r<i.value.length;r++)e.args.pages_to_render.includes(r+1)&&r<t-1&&(a+=i.value[r]*n.value[r]+e.args.pages_vertical_spacing);return a},v=(t,a)=>{const r=n.value[t.page-1],i={position:"absolute",left:t.x*r+"px",top:`${h(t.page)+t.y*r}px`,width:t.width*r+"px",height:t.height*r+"px",outline:e.args.annotation_outline_size*r+"px solid",outlineColor:t.color,cursor:"pointer","z-index":1};return a&&s.value.push(`annotation-${a}`),i},w=e=>{const t=e?.getElementsByTagName("canvas");for(let a=t.length-1;a>=0;a--)e?.removeChild(t.item(a))},C=(t,a,n,r,i=1)=>{const o=t.getViewport({scale:a,rotation:n}),s=(window.devicePixelRatio||1)*i,l=document.createElement("canvas");return l.id=`canvas_page_${r}`,l.height=o.height*s+e.args.pages_vertical_spacing,l.width=o.width*s,l.style.width=o.width+"px",l.style.height=o.height+"px",l.style.display="block",l.style.marginBottom=`${e.args.pages_vertical_spacing}px`,l.getContext("2d").scale(s,s),l},k=async(e,t,a)=>{const n={canvasContext:t.getContext("2d"),viewport:a};try{const t=e.render(n);await t.promise.catch((function(e){}))}catch(r){}if(c){const n=await e.getTextContent(),r=document.createElement("div");r.className="textLayer",r.style="z-index: 2";const i=new m.D6({textContentSource:n,container:r,viewport:a,textDivs:[]});await i.render(),requestAnimationFrame((async()=>{const e=document.createElement("div");e.className="page";const a=document.createElement("div");a.className="canvasWrapper",a.appendChild(t),e.style="position: relative;";const n=document.getElementById("pdfViewer");e.appendChild(a),e.appendChild(r),n.appendChild(e)}))}else requestAnimationFrame((()=>{const e=document.createElement("div");e.className="page";const a=document.createElement("div");a.className="canvasWrapper",a.appendChild(t),e.style="position: relative;",e.appendChild(a),pdfViewer.appendChild(e)}))},x=async(r,s,l=null)=>{if(0===l.length){l=[];for(let e=0;e<r.numPages;e++)l.push(e+1)}let d=1;e.args.resolution_boost&&(d=e.args.resolution_boost);for(let c=1;c<=r.numPages;c++){const p=await r.getPage(c),g=p.rotate,u=p.getViewport({scale:1,rotation:g});if(e.args.height>0){const t=u.width/u.height,n=t*e.args.height;(0===a.value||n<a.value)&&(a.value=n)}const h=a.value/u.width;if(n.value.push(h),i.value.push(u.height),l.includes(c)){const e=C(p,h,g,c,d);s.style.setProperty("--scale-factor",h);const a=p.getViewport({scale:n.value[p._pageIndex],rotation:p.rotate,intent:"print"}),r=(window.devicePixelRatio||1)*d;t.value+=e.height/r,await k(p,e,a),void 0!==e.id&&o.value.push(e.id)}}l.length>0&&(t.value-=e.args.pages_vertical_spacing)},$=e=>{window.alert(e.message),console.error(e)},V=async t=>{m.EA.workerSrc="pdfjs-dist/build/pdf.worker.mjs";try{const a=await(0,m.YE)({url:t,cMapUrl:_,cMapPacked:E,enableXfa:b}),n=document.getElementById("pdfViewer");w(n);const r=await a.promise;await x(r,n,e.args.pages_to_render)}catch(a){$(a)}},R=()=>{if(e.args.scroll_to_page){const t=document.getElementById(`canvas_page_${e.args.scroll_to_page}`);t&&t.scrollIntoView({behavior:"smooth"})}else if(e.args.scroll_to_annotation){const t=document.getElementById("annotation-"+(e.args.scroll_to_annotation-1));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},S=()=>{const e=new Set,t=new Set;let a;for(a=0;a<s.value.length;a++)t.add(s.value[a]);for(a=0;a<o.value.length;a++)e.add(o.value[a])},P=()=>{y.wk.setFrameHeight(e.args.height||t.value)},A=()=>{null===e.args.width||void 0===e.args.width?a.value=window.innerWidth:Number.isInteger(e.args.width)&&(a.value=e.args.width,window.innerWidth>0&&window.innerWidth<a.value&&(a.value=window.innerWidth))};return(0,r.sV)((()=>{const t=`data:application/pdf;base64,${e.args.binary}`;A(),"unwrap"===e.args.rendering?V(t).then(P).then(S):P()})),(0,r.$u)((()=>{P(),"unwrap"===e.args.rendering&&R()})),{filteredAnnotations:d,getAnnotationStyle:v,pdfContainerStyle:p,pdfViewerStyle:g,getPageStyle:u}}};var k=a(6262);const x=(0,k.A)(C,[["render",w]]),$=x,V={key:0},R={class:"err__msg"};function S(e,t,a,n,i,o){return(0,r.uX)(),(0,r.CE)("div",null,[""!=e.componentError?((0,r.uX)(),(0,r.CE)("div",V,[t[0]||(t[0]=(0,r.Lk)("h1",{class:"err__title"},"Component Error",-1)),(0,r.Lk)("div",R,"Message: "+(0,s.v_)(e.componentError),1)])):null!=e.renderData?(0,r.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,r.Q3)("",!0)])}const P=(0,r.pM)({name:"WithStreamlitConnection",setup(){const e=(0,f.KR)(void 0),t=(0,f.KR)(""),a=a=>{const n=a;e.value=n.detail,t.value=""};return(0,r.sV)((()=>{y.wk.events.addEventListener(y.wk.RENDER_EVENT,a),y.wk.setComponentReady()})),(0,r.$u)((()=>{""!=t.value&&y.wk.setFrameHeight()})),(0,r.hi)((()=>{y.wk.events.removeEventListener(y.wk.RENDER_EVENT,a)})),(0,r.qG)((e=>{t.value=String(e)})),{renderData:e,componentError:t}}}),A=(0,k.A)(P,[["render",S],["__scopeId","data-v-bef81972"]]),N=A,X=(0,r.pM)({name:"App",components:{PdfViewer:$,WithStreamlitConnection:N}}),O=(0,k.A)(X,[["render",o]]),W=O;(0,n.Ef)(W).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,i)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],s=!0,l=0;l<n.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}})(),(()=>{a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,l]=n,d=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(t&&t(n);d<o.length;d++)i=o[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[504],(()=>a(3456)));n=a.O(n)})();
//# sourceMappingURL=app.ae269d4f.js.map